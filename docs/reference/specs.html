<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Generates an internally consistent list of model specifications that may be
passed to metab_bayes, metab_mle, etc. via the specs
argument. This help file gives the definitive list of all possible model
specs, but only a subset of these are relevant to any given
model_name. See the 'Relevant arguments' section below. Irrelevant
arguments for the given model_name should not be explicitly passed
into this function (but don't worry - we'll just stop and tell you if you
make a mistake). Relevant arguments for the given model_name either
have default values or do not (see Usage). Relevant arguments without a
default should rarely be overridden, because their values will be determined
based on other arguments. Relevant arguments that do have a default can, and
often should, be overridden to tailor the model to your needs."><title>Generate a coherent list of model specs — specs • streamMetabolizer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a coherent list of model specs — specs"><meta property="og:description" content="Generates an internally consistent list of model specifications that may be
passed to metab_bayes, metab_mle, etc. via the specs
argument. This help file gives the definitive list of all possible model
specs, but only a subset of these are relevant to any given
model_name. See the 'Relevant arguments' section below. Irrelevant
arguments for the given model_name should not be explicitly passed
into this function (but don't worry - we'll just stop and tell you if you
make a mistake). Relevant arguments for the given model_name either
have default values or do not (see Usage). Relevant arguments without a
default should rarely be overridden, because their values will be determined
based on other arguments. Relevant arguments that do have a default can, and
often should, be overridden to tailor the model to your needs."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">streamMetabolizer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data_prep.html">Data Preparation</a>
    <a class="dropdown-item" href="../articles/get_started.html">Quickstart</a>
    <a class="dropdown-item" href="../articles/gpp_er_eqs.html">GPP and ER Equations</a>
    <a class="dropdown-item" href="../articles/installation.html">Installation</a>
    <a class="dropdown-item" href="../articles/model_structures.html">Model Structures</a>
    <a class="dropdown-item" href="../articles/models_bayes.html">Bayesian Models</a>
    <a class="dropdown-item" href="../articles/models_mle.html">MLE Models</a>
    <a class="dropdown-item" href="../articles/ode_methods.html">ODE Methods</a>
    <a class="dropdown-item" href="../articles/simulations.html">Simulations</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/USGS-R/streamMetabolizer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Generate a coherent list of model specs</h1>
      <small class="dont-index">Source: <a href="https://github.com/USGS-R/streamMetabolizer/blob/HEAD/R/specs.R" class="external-link"><code>R/specs.R</code></a></small>
      <div class="d-none name"><code>specs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates an internally consistent list of model specifications that may be
passed to <code>metab_bayes</code>, <code>metab_mle</code>, etc. via the <code>specs</code>
argument. This help file gives the definitive list of all possible model
specs, but only a subset of these are relevant to any given
<code>model_name</code>. See the 'Relevant arguments' section below. Irrelevant
arguments for the given <code>model_name</code> should not be explicitly passed
into this function (but don't worry - we'll just stop and tell you if you
make a mistake). Relevant arguments for the given <code>model_name</code> either
have default values or do not (see Usage). Relevant arguments without a
default should rarely be overridden, because their values will be determined
based on other arguments. Relevant arguments that do have a default can, and
often should, be overridden to tailor the model to your needs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">specs</span><span class="op">(</span></span>
<span>  model_name <span class="op">=</span> <span class="fu"><a href="mm_name.html">mm_name</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">engine</span>,</span>
<span>  day_start <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  day_end <span class="op">=</span> <span class="fl">28</span>,</span>
<span>  day_tests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"full_day"</span>, <span class="st">"even_timesteps"</span>, <span class="st">"complete_data"</span>, <span class="st">"pos_discharge"</span>,</span>
<span>    <span class="st">"pos_depth"</span><span class="op">)</span>,</span>
<span>  required_timestep <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  init.GPP.daily <span class="op">=</span> <span class="fl">8</span>,</span>
<span>  init.Pmax <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  init.alpha <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  init.ER.daily <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>,</span>
<span>  init.ER20 <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>,</span>
<span>  init.K600.daily <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  <span class="va">split_dates</span>,</span>
<span>  keep_mcmcs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep_mcmc_data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  GPP_daily_mu <span class="op">=</span> <span class="fl">3.1</span>,</span>
<span>  GPP_daily_lower <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>,</span>
<span>  GPP_daily_sigma <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  alpha_meanlog <span class="op">=</span> <span class="op">-</span><span class="fl">4.6</span>,</span>
<span>  alpha_sdlog <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  Pmax_mu <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  Pmax_sigma <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  ER_daily_mu <span class="op">=</span> <span class="op">-</span><span class="fl">7.1</span>,</span>
<span>  ER_daily_upper <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  ER_daily_sigma <span class="op">=</span> <span class="fl">7.1</span>,</span>
<span>  K600_daily_meanlog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>  K600_daily_meanlog_meanlog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>,</span>
<span>  K600_daily_meanlog_sdlog <span class="op">=</span> <span class="fl">1.32</span>,</span>
<span>  lnK600_lnQ_intercept_mu <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  lnK600_lnQ_intercept_sigma <span class="op">=</span> <span class="fl">2.4</span>,</span>
<span>  lnK600_lnQ_slope_mu <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  lnK600_lnQ_slope_sigma <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  K600_lnQ_nodes_centers <span class="op">=</span> <span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  K600_lnQ_nodediffs_sdlog <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  K600_lnQ_nodes_meanlog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">12</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">K600_lnQ_nodes_centers</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  K600_lnQ_nodes_sdlog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1.32</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">K600_lnQ_nodes_centers</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  K600_daily_sdlog <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="fu"><a href="mm_parse_name.html">mm_parse_name</a></span><span class="op">(</span><span class="va">model_name</span><span class="op">)</span><span class="op">$</span><span class="va">pool_K600</span>, none <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    normal_sdfixed <span class="op">=</span> <span class="fl">0.05</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  K600_daily_sigma <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="fu"><a href="mm_parse_name.html">mm_parse_name</a></span><span class="op">(</span><span class="va">model_name</span><span class="op">)</span><span class="op">$</span><span class="va">pool_K600</span>, linear_sdfixed <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    binned_sdfixed <span class="op">=</span> <span class="fl">5</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  K600_daily_sdlog_sigma <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="fu"><a href="mm_parse_name.html">mm_parse_name</a></span><span class="op">(</span><span class="va">model_name</span><span class="op">)</span><span class="op">$</span><span class="va">pool_K600</span>, normal <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>    <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  K600_daily_sigma_sigma <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="fu"><a href="mm_parse_name.html">mm_parse_name</a></span><span class="op">(</span><span class="va">model_name</span><span class="op">)</span><span class="op">$</span><span class="va">pool_K600</span>, linear <span class="op">=</span> <span class="fl">1.2</span>,</span>
<span>    binned <span class="op">=</span> <span class="fl">0.24</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  err_obs_iid_sigma_scale <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>  err_proc_iid_sigma_scale <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  err_proc_acor_phi_alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  err_proc_acor_phi_beta <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  err_proc_acor_sigma_scale <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  err_mult_GPP_sdlog_sigma <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">params_in</span>,</span>
<span>  <span class="va">params_out</span>,</span>
<span>  n_chains <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  n_cores <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  burnin_steps <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  saved_steps <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  thin_steps <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weights <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"K600/CI"</span><span class="op">)</span>,</span>
<span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>CI.max <span class="op">=</span> <span class="cn">NA</span>, discharge.daily.max <span class="op">=</span> <span class="cn">NA</span>, velocity.daily.max <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  predictors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"discharge.daily"</span><span class="op">)</span>,</span>
<span>  transforms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>K600 <span class="op">=</span> <span class="st">"log"</span>, date <span class="op">=</span> <span class="cn">NA</span>, velocity.daily <span class="op">=</span> <span class="st">"log"</span>, discharge.daily <span class="op">=</span></span>
<span>    <span class="st">"log"</span><span class="op">)</span>,</span>
<span>  other_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  K600_lnQ_cnode_meanlog <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>  K600_lnQ_cnode_sdlog <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  K600_lnQ_nodediffs_meanlog <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  lnK600_lnQ_nodes <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">K600_lnQ_nodes_centers</span>, <span class="va">K600_lnQ_cnode_meanlog</span>,</span>
<span>    <span class="va">K600_lnQ_cnode_sdlog</span>, <span class="va">K600_lnQ_nodediffs_meanlog</span>, <span class="va">K600_lnQ_nodediffs_sdlog</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span>   </span>
<span>     <span class="fu"><a href="sim_Kb.html">sim_Kb</a></span><span class="op">(</span><span class="va">K600_lnQ_nodes_centers</span>, <span class="va">K600_lnQ_cnode_meanlog</span>, <span class="va">K600_lnQ_cnode_sdlog</span>,</span>
<span>    <span class="va">K600_lnQ_nodediffs_meanlog</span>, <span class="va">K600_lnQ_nodediffs_sdlog</span><span class="op">)</span> <span class="op">}</span>,</span>
<span>  discharge_daily <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">20</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  DO_mod_1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  K600_daily <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">K600_daily_predlog</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>,</span>
<span>    <span class="va">K600_daily_predlog</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  GPP_daily <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">8</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Pmax <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">10</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  alpha <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">1e-04</span>, <span class="fl">2e-05</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  ER_daily <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  ER20 <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">...</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmin</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  err_obs_sigma <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>  err_obs_phi <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  err_proc_sigma <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  err_proc_phi <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  err_round <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  sim_seed <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model_name</dt>
<dd><p>character string identifying the model features. Use
<code><a href="mm_name.html">mm_name</a></code> to create a valid name based on desired attributes,
or <code><a href="mm_valid_names.html">mm_valid_names</a></code> to see all valid names. Two alternatives to
the names given by <code><a href="mm_valid_names.html">mm_valid_names()</a></code> are also accepted: (1) a model
type as accepted by the <code>type</code> argument to <code>mm_name</code>, which will
be used to create the default model name for that model type, or (2) a full
model file path for custom Bayesian models, as long as basename(model_name)
can still be parsed correctly with <code><a href="mm_parse_name.html">mm_parse_name()</a></code> and the file
exists. In that case the file may be specified either as a file path
relative to the streamMetabolizer models directory (the first assumption;
this directory can be found with <code>system.file("models",
package="streamMetabolizer")</code>) or as an absolute path or a path relative to
the current working directory (the second assumption, if the first
assumption turns up no files of the given name).</p></dd>


<dt>engine</dt>
<dd><p>The software or function to use in fitting the model. Should be
specified via <code>mm_name</code> rather than here. For <code>type='bayes'</code>,
always <code>'stan'</code> indicating the software package to use for the MCMC
process (see http://mc-stan.org/). For types in
<code>c('mle','night','sim')</code> there's again only one option per model (R
functions; these need not be named here but will be noted in the suffix of
the model name, e.g., <code>"m_np_oi_tr_plrckm.nlm"</code> uses <code><a href="https://rdrr.io/r/stats/nlm.html" class="external-link">nlm()</a></code> for
model fitting). For type='Kmodel', the name of an interpolation or
regression method relating K to the predictor[s] of choice. One of
<code>c("mean", "lm", "loess")</code>.</p></dd>


<dt>day_start</dt>
<dd><p>start time (inclusive) of a day's data in number of hours
from the midnight that begins the date. For example, day_start=-1.5
indicates that data describing 2006-06-26 begin at 2006-06-25 22:30, or at
the first observation time that occurs after that time if day_start doesn't
fall exactly on an observation time. For metabolism models working with
single days of input data, it is conventional/useful to begin the day the
evening before, e.g., -1.5, and to end just before the next sunrise, e.g.,
30. For multiple consecutive days, it may make the most sense to start just
before sunrise (e.g., 4) and to end 24 hours later. For nighttime
regression, the date assigned to a chunk of data should be the date whose
evening contains the data. The default is therefore 12 to 36 for
metab_night, of which the times of darkness will be used.</p></dd>


<dt>day_end</dt>
<dd><p>end time (exclusive) of a day's data in number of hours from
the midnight that begins the date. For example, day_end=30 indicates that
data describing 2006-06-26 end at the last observation time that occurs
before 2006-06-27 06:00. See day_start for recommended start and end times.</p></dd>


<dt>day_tests</dt>
<dd><p>list of tests to conduct to determine whether each date
worth of data is valid for modeling. The results of these tests will be
combined with the result of the test implied if <code>required_timestep</code> is
numeric and then will be passed to <code>model_fun</code> as the
<code>ply_validity</code> argument to that function.</p></dd>


<dt>required_timestep</dt>
<dd><p>NA or numeric (length 1). If numeric, the timestep
length in days that a date must have to pass the validity check (to within
a tolerance of 0.2% of the value of <code>required_timestep</code>). The result
of this test will be combined with the results of the tests listed in
<code>day_tests</code> and reported to <code>model_fun</code> as the
<code>ply_validity</code> argument to that function.</p></dd>


<dt>init.GPP.daily</dt>
<dd><p>the inital value of daily mean GPP (gO2 d^-1 m^-2) to
use in the NLM fitting process. See the MLE Initial Values section under
Details.</p></dd>


<dt>init.Pmax</dt>
<dd><p>the initial value of Pmax (gO2 d^-1 m^-2) to use in the GPP
versus light relationship in the NLM fitting process. Pmax is the maximum
GPP value of the GPP-light curve. See the MLE Initial Values section under
Details.</p></dd>


<dt>init.alpha</dt>
<dd><p>the inital value of alpha (gO2 s d^-1 umol^-1, i.e., units
of GPP/light) to use in the GPP versus light relationship in the NLM
fitting process. alpha is the initial slope of the GPP-light curve. See the
MLE Initial Values section under Details.</p></dd>


<dt>init.ER.daily</dt>
<dd><p>the inital value of daily mean ER (gO2 d^-1 m^-2) to use
in the NLM fitting process. See the MLE Initial Values section under
Details.</p></dd>


<dt>init.ER20</dt>
<dd><p>the initial value of ER20 (gO2 d^-1 m^-2) to use in the ER
versus temperature relationship in the NLM fitting process. ER20 is the
respiration rate at 20 degrees C. See the MLE Initial Values section under
Details.</p></dd>


<dt>init.K600.daily</dt>
<dd><p>the inital value of daily mean K600 (d^-1) to use in
the NLM fitting process. Ignored if K600 is supplied in data_daily, except
for those dates where K600 is NA. If there are any such dates, K600_init
must have a numeric (non-NA) value, as this will be used to estimate K600
for those dates. See the MLE Initial Values section under Details.</p></dd>


<dt>split_dates</dt>
<dd><p>logical indicating whether the data should be split into
daily chunks first (TRUE) or processed within one big model (FALSE). If
valid days differ in their timestep length, split_dates will need to be
TRUE; otherwise, FALSE is generally more efficient. FALSE is also the only
appropriate solution for a hierarchical model that pools information on
error, K600, etc. across days.</p></dd>


<dt>keep_mcmcs</dt>
<dd><p>TRUE, FALSE, or (for nopool models) a vector of dates
(coerced with as.Date if character, etc.) indicating whether to keep all of
the mcmc model objects (TRUE), none of them (FALSE), or specific dates. The
default is TRUE because these objects often need inspecting.</p></dd>


<dt>keep_mcmc_data</dt>
<dd><p>FALSE, TRUE, or (for nopool models) a vector of dates
(coerced with as.Date if character, etc.) indicating whether to keep all of
the mcmc model objects (TRUE), none of them (FALSE), or specific dates. The
default is FALSE because these objects can be very large.</p></dd>


<dt>GPP_daily_mu</dt>
<dd><p>The mean of a dnorm distribution for GPP_daily, the daily
rate of gross primary production</p></dd>


<dt>GPP_daily_lower</dt>
<dd><p>The lower bound on every fitted value of GPP_daily,
the daily rate of gross primary production. Use values other than -Inf with
caution, recognizing that sometimes the input data are unmodelable and that
a negative estimate of GPP_daily (when unconstrained) could be your only
indication.</p></dd>


<dt>GPP_daily_sigma</dt>
<dd><p>The standard deviation of a dnorm distribution for
GPP_daily, the daily rate of gross primary production</p></dd>


<dt>alpha_meanlog</dt>
<dd><p>The mean of a dlnorm (lognormal) distribution for alpha,
the daily initial slope of the Jassby-Platt saturating curve relating GPP
to light</p></dd>


<dt>alpha_sdlog</dt>
<dd><p>The standard deviation parameter of a dlnorm (lognormal)
distribution for alpha, the daily initial slope of the Jassby-Platt
saturating curve relating GPP to light.</p></dd>


<dt>Pmax_mu</dt>
<dd><p>The mean of a dnorm (normal) distribution for Pmax, the daily
maximum GPP value of a Jassby-Platt saturating curve relating GPP to light.</p></dd>


<dt>Pmax_sigma</dt>
<dd><p>The standard deviation of a dnorm (normal) distribution for
Pmax, the daily maximum GPP value of a Jassby-Platt saturating curve
relating GPP to light.</p></dd>


<dt>ER_daily_mu</dt>
<dd><p>The mean of a dnorm distribution for ER_daily, the daily
rate of ecosystem respiration</p></dd>


<dt>ER_daily_upper</dt>
<dd><p>The upper (less negative) bound on every fitted value
of ER_daily, the daily rate of ecosystem respiration. Use values other than
Inf with caution, recognizing that sometimes the input data are unmodelable
and that a positive estimate of ER_daily (when unconstrained) could be your
only indication.</p></dd>


<dt>ER_daily_sigma</dt>
<dd><p>The standard deviation of a dnorm distribution for
ER_daily, the daily rate of ecosystem respiration</p></dd>


<dt>K600_daily_meanlog</dt>
<dd><p>Applies when pool_K600 is 'none'. The mean of a
dlnorm distribution for K600_daily, the daily rate of reaeration</p></dd>


<dt>K600_daily_meanlog_meanlog</dt>
<dd><p>hyperparameter for pool_K600='normal'. The
mean parameter (meanlog_meanlog) of a lognormal distribution of meanlog in
K ~ lN(meanlog, sdlog), meanlog ~ lN(meanlog_meanlog, meanlog_sdlog)</p></dd>


<dt>K600_daily_meanlog_sdlog</dt>
<dd><p>hyperparameter for pool_K600='normal'. The
standard deviation parameter (meanlog_sdlog) of a lognormal distribution of
meanlog in K ~ lN(meanlog, sdlog), meanlog ~ lN(meanlog_meanlog,
meanlog_sdlog)</p></dd>


<dt>lnK600_lnQ_intercept_mu</dt>
<dd><p>hyperparameter for pool_K600 == 'linear'. The
mean of the prior distribution for the intercept parameter in
<code>log(K600) ~ lnK600_lnQ_intercept + lnK600_lnQ_slope*log(Q)</code></p></dd>


<dt>lnK600_lnQ_intercept_sigma</dt>
<dd><p>hyperparameter for pool_K600 == 'linear'.
The standard deviation of the prior distribution for the intercept
parameter in <code>log(K600) ~ lnK600_lnQ_intercept +
lnK600_lnQ_slope*log(Q)</code></p></dd>


<dt>lnK600_lnQ_slope_mu</dt>
<dd><p>hyperparameter for pool_K600='linear'. The mean of
the prior distribution for the slope parameter in <code>log(K600) ~
lnK600_lnQ_intercept + lnK600_lnQ_slope*log(Q)</code></p></dd>


<dt>lnK600_lnQ_slope_sigma</dt>
<dd><p>hyperparameter for pool_K600='linear'. The
standard deviation of the prior distribution for the slope parameter in
<code>log(K600) ~ lnK600_lnQ_intercept + lnK600_lnQ_slope*log(Q)</code></p></dd>


<dt>K600_lnQ_nodes_centers</dt>
<dd><p>data configuration argument for
pool_K600='binned'. numeric vector giving the natural-log-space centers of
the discharge bins. See also <code><a href="calc_bins.html">calc_bins</a></code></p></dd>


<dt>K600_lnQ_nodediffs_sdlog</dt>
<dd><p>hyperparameter for pool_K600='binned'. The
standard deviations of the differences in estimated K600 between successive
lnQ_nodes (bins), where the means of those differences are always zero</p></dd>


<dt>K600_lnQ_nodes_meanlog</dt>
<dd><p>hyperparameter for pool_K600='binned'. The
means of lognormal prior distributions for the K600_lnQ_nodes parameters.</p></dd>


<dt>K600_lnQ_nodes_sdlog</dt>
<dd><p>hyperparameter for pool_K600='binned'. The
standard deviations of lognormal prior distributions for the K600_lnQ_nodes
parameters.</p></dd>


<dt>K600_daily_sdlog</dt>
<dd><p>The lognormal scale parameter (standard deviation) of
a dlnorm distribution having meanlog equal to <code>K600_daily_meanlog</code>
(when pool_K600 is 'none') or <code>K600_daily_predlog</code> (when pool_K600 is
'normal_sdfixed') for K600_daily, the daily rate of reaeration as corrected
for temperature and the diffusivity of oxygen</p></dd>


<dt>K600_daily_sigma</dt>
<dd><p>The standard deviation of a dnorm distribution having
mean equal to <code>exp(K600_daily_predlog)</code> (applicable when pool_K600 is
'linear_sdfixed' or 'binned_sdfixed') for K600_daily, the daily rate of
reaeration as corrected for temperature and the diffusivity of oxygen</p></dd>


<dt>K600_daily_sdlog_sigma</dt>
<dd><p>hyperparameter for pool_K600 in c('normal').
The scale (= sigma) parameter of a half-normal distribution of sdlog in K ~
lN(meanlog, sdlog), sdlog ~ halfnormal(0, sigma=sdlog_sigma). Visualize the
PDF of K600_daily_sdlog with <code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>K600_daily_sigma_sigma</dt>
<dd><p>hyperparameter for pool_K600 in
c('linear','binned'). The scale (= sigma) parameter of a half-normal
distribution of sigma in K ~ lN(meanlog, sigma), sigma ~ halfnormal(0,
sigma=sigma_sigma). Visualize the PDF of K600_daily_sdlog with
<code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_obs_iid_sigma_scale</dt>
<dd><p>The scale (= sigma) parameter of a half-Cauchy
distribution for err_obs_iid_sigma, the standard deviation of the
observation error. Visualize the PDF of err_obs_iid_sigma with
<code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_proc_iid_sigma_scale</dt>
<dd><p>The scale (= sigma) parameter of a
half-Cauchy distribution for err_proc_iid_sigma, the standard deviation of
the uncorrelated (IID) component of process [&amp; sometimes observation]
error. Visualize the PDF of err_proc_iid_sigma with
<code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_proc_acor_phi_alpha</dt>
<dd><p>The alpha (= shape1) parameter on a beta
distribution for err_proc_acor_phi, the autocorrelation coefficient for the
autocorrelated component of process [&amp; sometimes observation] error.
Visualize the PDF of err_proc_acor_phi with <code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_proc_acor_phi_beta</dt>
<dd><p>The beta (= shape2) parameter on a beta
distribution for err_proc_acor_phi, the autocorrelation coefficient for the
autocorrelated component of process [&amp; sometimes observation] error.
Visualize the PDF of err_proc_acor_phi with <code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_proc_acor_sigma_scale</dt>
<dd><p>The scale (= sigma) parameter of a
half-Cauchy distribution for err_proc_acor_sigma, the standard deviation of
the autocorrelated component of process [&amp; sometimes observation] error.
Visualize the PDF of err_proc_acor_sigma with <code><a href="plot_distribs.html">plot_distribs</a></code>.</p></dd>


<dt>err_mult_GPP_sdlog_sigma</dt>
<dd><p>The scale parameter of a half-normal
distribution for err_mult_GPP_sdlog, the scale parameter of the lognormal
distribution of err_mult_GPP. err_mult_GPP is multiplied by light and then
normalized to a daily mean of 1 before being multiplied by GPP_daily to
estimate GPP_inst. The effect is a special kind of process error that is
proportional to light (with noise) and is applied to GPP rather than to
dDO/dt.</p></dd>


<dt>params_in</dt>
<dd><p>Character vector of hyperparameters to pass from the specs
list into the data list for the MCMC run. Will be automatically generated
during the specs() call; need only be revised if you're using a custom
model that requires different hyperparameters.</p></dd>


<dt>params_out</dt>
<dd><p>a character vector of parameters whose values in the MCMC
runs should be recorded and summarized</p></dd>


<dt>n_chains</dt>
<dd><p>the number of chains to run</p></dd>


<dt>n_cores</dt>
<dd><p>the number of cores to apply to this run</p></dd>


<dt>burnin_steps</dt>
<dd><p>the number of steps per chain to run and ignore before
starting to collect MCMC 'data'</p></dd>


<dt>saved_steps</dt>
<dd><p>the number of MCMC steps per chain to save</p></dd>


<dt>thin_steps</dt>
<dd><p>the number of steps to move before saving another step. 1
means save all steps.</p></dd>


<dt>verbose</dt>
<dd><p>logical. give status messages?</p></dd>


<dt>weights</dt>
<dd><p>For Kmodel, character vector indicating the type of weighting
to use. Set to c() for no weights. One of c("1/CI", "K600/CI", c()).</p></dd>


<dt>filters</dt>
<dd><p>For Kmodel, named numeric vector of limits to use in filtering
data_daily. Elements may include
c("CI.max","discharge.daily.max","velocity.daily.max"). If an element is
given, the corresponding filter is applied: K600.daily.upper-K600.daily.lower &lt;=
CI.max, discharge.daily &lt;= discharge.daily.max, velocity.daily &lt;=
velocity.daily.max</p></dd>


<dt>predictors</dt>
<dd><p>For Kmodel, character vector of variables (column names in
data or data_daily) to use in predicting K. Leave blank or set to c() for
no predictors. Otherwise, one or more of these may be included: c("date",
"velocity.daily", "discharge.daily").</p></dd>


<dt>transforms</dt>
<dd><p>For Kmodel, a named character vector of names of functions
(probably 'log' or NA) to apply to K600.daily and/or the predictors. K600.daily should
probably be logged. The vector names must match the values of
<code>predictors</code>, although not all elements of <code>predictors</code> must be
included in <code>transforms</code>. Recommended transforms include
<code>c(K600.daily='log', date=NA, velocity.daily="log", discharge.daily="log")</code></p></dd>


<dt>other_args</dt>
<dd><p>Other arguments passed to the fitting function given by
<code>specs$engine</code>. <code>na.rm=TRUE</code> is already passed to
<code>mean</code> (which is actually implemented as <code>sum</code>, anyway).</p></dd>


<dt>K600_lnQ_cnode_meanlog</dt>
<dd><p>For a sim model with pool_K600='binned'. The
mean of a lognormal distribution describing the y=K600 value of the middle
(or just past middle) node in the piecewise lnK ~ lnQ relationship</p></dd>


<dt>K600_lnQ_cnode_sdlog</dt>
<dd><p>For a sim model with pool_K600='binned'. The sd
of a lognormal distribution describing the y=K600 value of the middle (or
just past middle) node in the piecewise lnK ~ lnQ relationship</p></dd>


<dt>K600_lnQ_nodediffs_meanlog</dt>
<dd><p>For a sim model with pool_K600='binned'.
The average (in log space) difference between ln(K) values of successive
nodes. A non-zero value introduces a trend in K ~ Q.</p></dd>


<dt>lnK600_lnQ_nodes</dt>
<dd><p>For a sim model with pool_K600='binned'. The values
of lnK600 at each node. The default value of this spec is a function that
computes lnK600s based on simulated K~Q relationships.</p></dd>


<dt>discharge_daily</dt>
<dd><p>Daily values, or a function to generate daily values,
of mean daily discharge in m^3 s^-1. Fixed values may alternatively be
specified as discharge.daily in the data_daily passed to
<code><a href="metab.html">metab</a></code>.</p></dd>


<dt>DO_mod_1</dt>
<dd><p>Daily values, or a function to generate daily values, of the
first DO.mod value on each date. Fixed values may alternatively be
specified as <code>DO.mod.1</code> in the <code>data_daily</code> passed to
<code><a href="metab.html">metab</a></code>. Or may be implied by a <code>DO.obs</code> column in
<code>data</code>, from which the first values on each date will be extracted by
<code><a href="metab.html">metab()</a></code>.</p></dd>


<dt>K600_daily</dt>
<dd><p>Daily values, or a function to generate daily values, of
the reaeration rate constant K600. Fixed values may alternatively be
specified as <code>K600.daily</code> in the data_daily passed to
<code><a href="metab.html">metab</a></code>.</p></dd>


<dt>GPP_daily</dt>
<dd><p>Daily values, or a function to generate daily values, of the
photosynthesis parameter GPP_daily. Fixed values may alternatively be
specified as <code>GPP.daily</code> in the data_daily passed to
<code><a href="metab.html">metab</a></code>.</p></dd>


<dt>Pmax</dt>
<dd><p>Daily values, or a function to generate daily values, of the
photosynthesis parameter Pmax. Fixed values may alternatively be specified
as <code>Pmax</code> in the data_daily passed to <code><a href="metab.html">metab</a></code>.</p></dd>


<dt>alpha</dt>
<dd><p>Daily values, or a function to generate daily values, of the
photosynthesis parameter alpha. Fixed values may alternatively be specified
as <code>alpha</code> in the data_daily passed to <code><a href="metab.html">metab</a></code>.</p></dd>


<dt>ER_daily</dt>
<dd><p>Daily values, or a function to generate daily values, of the
respiration parameter ER_daily. Fixed values may alternatively be specified
as <code>ER.daily</code> in the data_daily passed to <code><a href="metab.html">metab</a></code>.</p></dd>


<dt>ER20</dt>
<dd><p>Daily values, or a function to generate daily values, of the
respiration parameter ER20. Fixed values may alternatively be specified as
<code>ER20</code> in the data_daily passed to <code><a href="metab.html">metab</a></code>.</p></dd>


<dt>err_obs_sigma</dt>
<dd><p>Daily values, or a function to generate daily values, of
the sd of observation error, or 0 for no observation error. Observation
errors are those applied to DO.mod after generating the full time series of
modeled values.</p></dd>


<dt>err_obs_phi</dt>
<dd><p>Daily values, or a function to generate daily values, of
the autocorrelation coefficient of the observation errors, or 0 for
uncorrelated errors.</p></dd>


<dt>err_proc_sigma</dt>
<dd><p>Daily values, or a function to generate daily values,
of the sd of process error, or 0 for no process error. Process errors are
applied at each time step, and therefore propagate into the next timestep.</p></dd>


<dt>err_proc_phi</dt>
<dd><p>Daily values, or a function to generate daily values, of
the autocorrelation coefficient of the process errors, or 0 for
uncorrelated errors.</p></dd>


<dt>err_round</dt>
<dd><p>A single value indicating whether simulated DO.obs should be
rounded to simulate the common practice of only reporting a few significant
figures for DO. Use NA for no effect, or an integer as in the <code>digits</code>
argument to <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></code> if simulated DO.obs should be rounded to
the given number of digits beyond <code>.</code>.</p></dd>


<dt>sim_seed</dt>
<dd><p>NA to specify that each call to predict_DO should generate
new values, or an integer, as in the <code>seed</code> argument to
<code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></code>, specifying the seed to set before every execution
of predict_DO and/or predict_metab.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>an internally consistent list of arguments that may be passed to</p>
<p></p>
<p><code>metab</code> as the <code>specs</code> argument</p>
    </div>
    <div class="section level2">
    <h2 id="relevant-arguments">Relevant arguments<a class="anchor" aria-label="anchor" href="#relevant-arguments"></a></h2>
    


<p>* metab_bayes: Always relevant: <code>model_name, engine, split_dates,
  keep_mcmcs, keep_mcmc_data, day_start, day_end, day_tests, ER_daily_mu,
  ER_daily_sigma, params_in, params_out, n_chains, n_cores, burnin_steps,
  saved_steps, thin_steps, verbose</code>. The need for other arguments depends on
  features of the model structure, as from <code>mm_parse_name(model_name)</code>:</p><ul><li><p>If <code>GPP_fun=='linlight'</code> then <code>GPP_daily_mu,
  GPP_daily_sigma</code>, while if <code>GPP_fun=='satlight'</code> then
  <code>alpha_meanlog, alpha_sdlog, Pmax_mu, Pmax_sigma</code>.</p></li>
<li><p>If
  <code>pool_K600=='none'</code> then <code>K600_daily_meanlog, K600_daily_sdlog</code>.</p></li>
<li><p>If <code>pool_K600=='normal'</code> then <code>K600_daily_meanlog_meanlog,
  K600_daily_meanlog_sdlog, K600_daily_sdlog_sigma</code>.</p></li>
<li><p>If
  <code>pool_K600=='linear'</code> then <code>lnK600_lnQ_intercept_mu,
  lnK600_lnQ_intercept_sigma, lnK600_lnQ_slope_mu, lnK600_lnQ_slope_sigma,
  K600_daily_sigma_sigma</code>.</p></li>
<li><p>If <code>pool_K600=='binned'</code> then
  <code>K600_lnQ_nodes_centers, K600_lnQ_nodediffs_sdlog,
  K600_lnQ_nodes_meanlog, K600_lnQ_nodes_sdlog, K600_daily_sigma_sigma</code>.</p></li>
<li><p>If <code>err_obs_iid</code> then <code>err_obs_iid_sigma_scale</code>.</p></li>
<li><p>If
  <code>err_proc_acor</code> then <code>err_proc_acor_phi_alpha,
  err_proc_acor_phi_beta, err_proc_acor_sigma_scale</code>.</p></li>
<li><p>If
  <code>err_proc_iid</code> then <code>err_proc_iid_sigma_scale</code>.</p></li>
<li><p>If
  <code>err_proc_GPP</code> then <code>err_mult_GPP_sdlog_sigma</code>.</p></li>
</ul><p>* metab_mle: <code>model_name, day_start, day_end, day_tests,
  init.GPP.daily, init.Pmax, init.alpha, init.ER.daily, init.ER20,
  init.K600.daily</code></p>
<p>* metab_night: <code>model_name, day_start, day_end, day_tests</code></p>
<p>* metab_Kmodel: <code>model_name, engine, day_start, day_end, day_tests,
  weights, filters, predictors, transforms, other_args</code>. Note that the
  defaults for <code>weights</code>, <code>predictors</code>, <code>filters</code>, and
  <code>transforms</code> are adjusted according to the <code>engine</code> implied by
  <code>model_name</code>.</p>
<p>* metab_sim: <code>model_name, day_start, day_end, day_tests,
  err_obs_sigma, err_obs_phi, err_proc_sigma, err_proc_phi, sim_seed</code>. Those
  arguments whose period-separated name occurs in the default data_daily
  argument to metab(sim) can be specified here as NULL, numeric, or a
  function to be called each time <code>predict_DO</code> or <code>predict_metab</code>
  is called on the model. If given as a function, an argument will be called
  with any already-evaluated parameters (including the contents of data_daily
  and n, the number of dates) passed in as arguments; for example, K600_daily
  can see n, discharge.daily, and GPP_daily can see n, discharge.daily, and
  K600.daily.</p>
    </div>
    <div class="section level2">
    <h2 id="mle-initial-values">MLE Initial Values<a class="anchor" aria-label="anchor" href="#mle-initial-values"></a></h2>
    


<p>For metab_mle models (maximum likelihood estimation), specification
  arguments whose names begin with <code>init</code> are applicable. Which
  arguments are required depends on the value of model_name and can be
  determined by calling <code>grep('^init.', names(specs(mname)),
  value=TRUE)</code> once for your model name <code>mname</code> before supplying any
  arguments.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">specs</span><span class="op">(</span><span class="fu"><a href="mm_name.html">mm_name</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">'mle'</span>, err_obs_iid<span class="op">=</span><span class="cn">FALSE</span>, err_proc_iid<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model specifications:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model_name        m_np_pi_tr_plrckm.nlm                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_start         4                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_end           28                                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_tests         full_day, even_timesteps, complete_data, pos_discharge, p...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   required_timestep NA                                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   init.GPP.daily    8                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   init.ER.daily     -10                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   init.K600.daily   10                                                          </span>
<span class="r-in"><span><span class="fu">specs</span><span class="op">(</span><span class="fu"><a href="mm_name.html">mm_name</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">'bayes'</span>, pool_K600<span class="op">=</span><span class="st">'normal'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model specifications:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model_name                 b_Kn_oipi_tr_plrckm.stan                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   engine                     stan                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   split_dates                FALSE                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keep_mcmcs                 TRUE                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   keep_mcmc_data             TRUE                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_start                  4                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_end                    28                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   day_tests                  full_day, even_timesteps, complete_data, pos_dis...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   required_timestep          NA                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   GPP_daily_mu               3.1                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   GPP_daily_lower            -Inf                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   GPP_daily_sigma            6                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ER_daily_mu                -7.1                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ER_daily_upper             Inf                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ER_daily_sigma             7.1                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   K600_daily_meanlog_meanlog 2.484906649788                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   K600_daily_meanlog_sdlog   1.32                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   K600_daily_sdlog_sigma     0.05                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   err_obs_iid_sigma_scale    0.03                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   err_proc_iid_sigma_scale   5                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   params_in                  GPP_daily_mu, GPP_daily_lower, GPP_daily_sigma, ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   params_out                 GPP, ER, DO_R2, GPP_daily, ER_daily, K600_daily,...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_chains                   4                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_cores                    4                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   burnin_steps               500                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   saved_steps                500                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   thin_steps                 1                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   verbose                    FALSE                                              </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alison P. Appling, Robert O. Hall, Maite Arroita, Charles B. Yackulic.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

